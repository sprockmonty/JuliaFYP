function createpoly(x,y, b::Bound)
    xLength = length(x)
    if xLength == 2
        pa = (-y[1]x[2] + y[2]*x[1]) / (x[1] - x[2])
        pb = (y[1] - y[2]) / (x[1] - x[2])
        return create_coef_poly([pa,pb], b)
    elseif xLength == 3
        pa = -y[1]*(x[2]*x[3])/(x[1]*x[2] + x[1]*x[3] - x[2]*x[3] - x[1]^2) -y[2]*(x[1]*x[3])/(x[1]*x[2] - x[1]*x[3] + x[2]*x[3] - x[2]^2) + y[3]*(x[1]*x[2])/(x[1]*x[2] - x[1]*x[3] - x[2]*x[3] + x[3]^2)
        pb = y[1]*(x[2] + x[3])/(x[1]*x[2] + x[1]*x[3] - x[2]*x[3] - x[1]^2) + y[2]*(x[1] + x[3])/(x[1]*x[2] - x[1]*x[3] + x[2]*x[3] - x[2]^2) -y[3]*(x[1] + x[2])/(x[1]*x[2] - x[1]*x[3] - x[2]*x[3] + x[3]^2)
        pc =  -y[1]/(x[1]*x[2] + x[1]*x[3] - x[2]*x[3] - x[1]^2) -y[2]/(x[1]*x[2] - x[1]*x[3] + x[2]*x[3] - x[2]^2) + y[3]/(x[1]*x[2] - x[1]*x[3] - x[2]*x[3] + x[3]^2)
        return create_coef_poly([pa,pb,pc], b)
    elseif xLength == 4
        pa = y[1]*(x[2]*x[3]*x[4])/(x[1]^2*x[2] + x[1]^2*x[3] + x[1]^2*x[4] - x[1]^3 - x[1]*x[2]*x[3] - x[1]*x[2]*x[4] - x[1]*x[3]*x[4] + x[2]*x[3]*x[4])+ y[2]*(x[1]*x[3]*x[4])/(x[1]*x[2]^2 + x[2]^2*x[3] + x[2]^2*x[4] - x[2]^3 - x[1]*x[2]*x[3] - x[1]*x[2]*x[4] + x[1]*x[3]*x[4] - x[2]*x[3]*x[4])+ y[3]*(x[1]*x[2]*x[4])/(x[1]*x[3]^2 + x[2]*x[3]^2 + x[3]^2*x[4] - x[3]^3 - x[1]*x[2]*x[3] + x[1]*x[2]*x[4] - x[1]*x[3]*x[4] - x[2]*x[3]*x[4])+ y[4]*(x[1]*x[2]*x[3])/(x[1]*x[4]^2 + x[2]*x[4]^2 + x[3]*x[4]^2 - x[4]^3 + x[1]*x[2]*x[3] - x[1]*x[2]*x[4] - x[1]*x[3]*x[4] - x[2]*x[3]*x[4])
        pb = -y[1]*(x[2]*x[3] + x[2]*x[4] + x[3]*x[4])/(x[1]^2*x[2] + x[1]^2*x[3] + x[1]^2*x[4] - x[1]^3 - x[1]*x[2]*x[3] - x[1]*x[2]*x[4] - x[1]*x[3]*x[4] + x[2]*x[3]*x[4]) -y[2]*(x[1]*x[3] + x[1]*x[4] + x[3]*x[4])/(x[1]*x[2]^2 + x[2]^2*x[3] + x[2]^2*x[4] - x[2]^3 - x[1]*x[2]*x[3] - x[1]*x[2]*x[4] + x[1]*x[3]*x[4] - x[2]*x[3]*x[4]) -y[3]*(x[1]*x[2] + x[1]*x[4] + x[2]*x[4])/(x[1]*x[3]^2 + x[2]*x[3]^2 + x[3]^2*x[4] - x[3]^3 - x[1]*x[2]*x[3] + x[1]*x[2]*x[4] - x[1]*x[3]*x[4] - x[2]*x[3]*x[4]) -y[4]*(x[1]*x[2] + x[1]*x[3] + x[2]*x[3])/(x[1]*x[4]^2 + x[2]*x[4]^2 + x[3]*x[4]^2 - x[4]^3 + x[1]*x[2]*x[3] - x[1]*x[2]*x[4] - x[1]*x[3]*x[4] - x[2]*x[3]*x[4])
        pc = y[1]*(x[2] + x[3] + x[4])/(x[1]^2*x[2] + x[1]^2*x[3] + x[1]^2*x[4] - x[1]^3 - x[1]*x[2]*x[3] - x[1]*x[2]*x[4] - x[1]*x[3]*x[4] + x[2]*x[3]*x[4])+ y[2]*(x[1] + x[3] + x[4])/(x[1]*x[2]^2 + x[2]^2*x[3] + x[2]^2*x[4] - x[2]^3 - x[1]*x[2]*x[3] - x[1]*x[2]*x[4] + x[1]*x[3]*x[4] - x[2]*x[3]*x[4])+ y[3]*(x[1] + x[2] + x[4])/(x[1]*x[3]^2 + x[2]*x[3]^2 + x[3]^2*x[4] - x[3]^3 - x[1]*x[2]*x[3] + x[1]*x[2]*x[4] - x[1]*x[3]*x[4] - x[2]*x[3]*x[4])+y[4]*(x[1] + x[2] + x[3])/(x[1]*x[4]^2 + x[2]*x[4]^2 + x[3]*x[4]^2 - x[4]^3 + x[1]*x[2]*x[3] - x[1]*x[2]*x[4] - x[1]*x[3]*x[4] - x[2]*x[3]*x[4])
        pd = -y[1]/(x[1]^2*x[2] + x[1]^2*x[3] + x[1]^2*x[4] - x[1]^3 - x[1]*x[2]*x[3] - x[1]*x[2]*x[4] - x[1]*x[3]*x[4] + x[2]*x[3]*x[4]) -y[2]/(x[1]*x[2]^2 + x[2]^2*x[3] + x[2]^2*x[4] - x[2]^3 - x[1]*x[2]*x[3] - x[1]*x[2]*x[4] + x[1]*x[3]*x[4] - x[2]*x[3]*x[4]) -y[3]/(x[1]*x[3]^2 + x[2]*x[3]^2 + x[3]^2*x[4] - x[3]^3 - x[1]*x[2]*x[3] + x[1]*x[2]*x[4] - x[1]*x[3]*x[4] - x[2]*x[3]*x[4]) -y[4]/(x[1]*x[4]^2 + x[2]*x[4]^2 + x[3]*x[4]^2 - x[4]^3 + x[1]*x[2]*x[3] - x[1]*x[2]*x[4] - x[1]*x[3]*x[4] - x[2]*x[3]*x[4])
        return create_coef_poly([pa,pb,pc,pd],b)

    end
end
createpoly(x,y) = createpoly(x,y,Bound(-Inf, Inf))
### test code

@benchmark polyfit([-1,0,1,2],[1,2,4,20])
@benchmark createpoly([-1,0,1,2],[1,2,4,20])

@benchmark polyfit(   [-1,0,1],[1,2,4])
@benchmark createpoly([-1,0,1],[1,2,4])
